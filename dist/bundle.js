(()=>{"use strict";const t=class{constructor(t=0,e=0,s=100,i=100,h="#f00"){this.x=t,this.y=e,this.width=s,this.height=i,this.color=h}moveTo(t,e){this.x=t,this.y=e}moveBy(t,e){this.x+=t,this.y+=e}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}},e=class extends t{constructor(t,e,s=75,i=20,h="#0095DD"){super(t,e,s,i,h),this.status=!0}},s=document.getElementById("myCanvas"),i=s.getContext("2d"),h=s.width/2,o=s.height-30,r=(s.width-75)/2,n=s.height-10;let l=!1,d=!1,c=!0;const y=new class extends t{constructor(t=0,e=0,s=10,i="#0095DD"){super(t,e,0,0,i),this.radius=s,this.dx=6,this.dy=-6}move(){this.x+=this.dx,this.y+=this.dy}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}reset(t,e){this.x=t/2,this.y=e-30,this.dx=6,this.dy=-6}}(h,o,10,"#ffda1f"),f=new class extends t{constructor(t=0,e=0,s=75,i=10,h="#f00"){super(t,e,s,i,h)}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle="#0095DD",t.fill(),t.closePath()}}(r,n,75,10,"#0095DD"),a=new class extends t{render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}(0,0,s.width,s.height,"#af1b3f"),x=new class{constructor(t=8,e=20,s="#0095DD",i=0,h="16px Arial"){this.x=t,this.y=e,this.color=s,this.score=i,this.font=h}render(t){t.font=this.font,t.fillStyle=this.color,t.fillText(`Score: ${this.score}`,this.x,this.y)}updateScore(){this.score+=1}resetScore(){this.score=0}},u=new class{constructor(t,e=20,s="#0095DD",i=3,h="16px Arial"){this.x=t,this.y=e,this.color=s,this.lives=i,this.font=h}render(t){t.font=this.font,t.fillStyle=this.color,t.fillText(`Lives: ${this.lives}`,this.x,this.y)}loseLife(){this.lives-=1}resetLives(){this.lives=3}}(s.width-65,20,"#0095DD",3,"16px Arial"),w=[];for(let t=0;t<5;t+=1){w[t]=[];for(let s=0;s<3;s+=1)w[t][s]=new e(0,0,75,20,"#8a84e2")}const g=function(t){c=!1,document.getElementById("message").innerText=t,document.getElementById("overlay").style.display="flex"},m=function(){i.clearRect(0,0,s.width,s.height),a.render(i),y.render(i),f.render(i),function(){for(let t=0;t<5;t+=1)for(let e=0;e<3;e+=1)if(!0===w[t][e].status){const s=85*t+30,h=30*e+30;w[t][e].x=s,w[t][e].y=h,1===e?w[t][e].color="#ffa69e":2===e&&(w[t][e].color="#ff686b"),w[t][e].render(i)}}(),function(){for(let t=0;t<5;t+=1)for(let e=0;e<3;e+=1){const s=w[t][e];!0===s.status&&y.x>s.x&&y.x<s.x+75&&y.y>s.y&&y.y<s.y+20&&(y.dy=-y.dy,s.status=0,x.score+=1,15===x.score&&g("You Win!"))}}(),x.render(i),u.render(i),y.move(i),(y.x+y.dx>s.width-10||y.x+y.dx<10)&&(y.dx=-y.dx),y.y+y.dy<10?y.dy=-y.dy:y.y+y.dy>s.height-10&&(y.x>f.x&&y.x<f.x+75?y.dy=-y.dy:(u.loseLife(),u.lives?(y.reset(s.width,s.height),f.x=(s.width-75)/2):g("Game Over! You lost."))),l?f.x=Math.min(f.x+7,s.width-f.width):d&&(f.x=Math.max(f.x-7,0)),!0===c&&requestAnimationFrame(m)};document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?l=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(d=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?l=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(d=!1)}),!1),document.addEventListener("mousemove",(function(t){const e=t.clientX-s.offsetLeft;e>0&&e<s.width&&(f.x=e-37.5)}),!1),document.getElementById("playAgain").addEventListener("click",(function(){document.getElementById("overlay").style.display="none";for(let t=0;t<5;t+=1)for(let e=0;e<3;e+=1)w[t][e].status=!0;y.reset(s.width,s.height),f.x=(s.width-75)/2,c=!0,x.score=0,u.lives=3,m()})),m()})();